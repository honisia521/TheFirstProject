import streamlit as st import yfinance as yf import pandas as pd import plotly.express as px from datetime import datetime, timedelta st.set_page_config(page_title="ì‹œê°€ì´ì•¡ TOP10 ì¸í„°ë™í‹°ë¸Œ ê·¸ë˜í”„", layout="wide") # ê¸°ì—…ê³¼ í‹°ì»¤ ë§¤í•‘ tickers = { 'Apple': 'AAPL', 'Microsoft': 'MSFT', 'Saudi Aramco': '2222.SR', 'Alphabet': 'GOOGL', 'Amazon': 'AMZN', 'Nvidia': 'NVDA', 'Berkshire Hathaway': 'BRK-B', 'Meta': 'META', 'TSMC': 'TSM', 'Tesla': 'TSLA', } st.title("ğŸ“Š ì „ ì„¸ê³„ ì‹œê°€ì´ì•¡ TOP10 ê¸°ì—…ì˜ ì§€ë‚œ 3ë…„ ì£¼ê°€ ë³€í™”") st.markdown("â€» ì‹œê°€ì´ì•¡ì€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¨ **ì£¼ê°€ Ã— ë°œí–‰ì£¼ì‹ ìˆ˜**ê°€ ì•„ë‹Œ, ì£¼ê°€ë§Œìœ¼ë¡œ ëŒ€ì²´ëœ ê°’ì…ë‹ˆë‹¤.") selected = st.sidebar.multiselect( "ê¸°ì—… ì„ íƒ", options=tickers.keys(), default=["Apple", "Microsoft", "Nvidia"] ) @st.cache_data(ttl=3600) def get_data(ticker_dict): end = datetime.today() start = end - timedelta(days=3*365) data = pd.DataFrame() for name, symbol in ticker_dict.items(): hist = yf.download(symbol, start=start, end=end, interval="1mo") hist['Company'] = name hist['Date'] = hist.index hist.reset_index(drop=True, inplace=True) hist = hist[['Date', 'Company', 'Close']] data = pd.concat([data, hist]) return data # ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° df = get_data({k: v for k, v in tickers.items() if k in selected}) # ì‹œê°í™” fig = px.line(df, x="Date", y="Close", color="Company", title="ì§€ë‚œ 3ë…„ê°„ ì£¼ê°€ ë³€í™” (ì›”ë³„ ì¢…ê°€)", labels={"Close": "ì¢…ê°€ (USD)", "Date": "ë‚ ì§œ"}) st.plotly_chart(fig, use_container_width=True)
